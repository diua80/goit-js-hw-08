{"mappings":"oeAAAA,EAAA,S,iBCAO,MAAMC,EAAO,CAChBC,KAAMC,SAASC,cAAc,mBDEjCC,QAAQC,IAAIL,EAAKC,MAEjB,IAAIK,EAAO,GAGXN,EAAKC,KAAKM,iBAAiB,SAG3B,UAAoBC,OAACA,IACjB,MAAMC,KAAEA,EAAIC,MAAEA,GAAUF,EACxBF,EAAKG,GAAQC,EACbC,EAAAC,QAAQC,KARK,sBAQUP,E,IAL3BN,EAAKC,KAAKM,iBAAiB,UAmB3B,SAAoBO,GAEhB,GADAA,EAAEC,kBACGT,EAAKU,QAAUV,EAAKW,QAErB,YADAC,MAAM,mCAIVlB,EAAKC,KAAKkB,QACVf,QAAQC,IAAIC,GACZA,EAAO,GACPK,EAAAC,QAAQQ,OAhCK,sB,IAWjB,WACI,MAAMC,EAAYV,EAAAC,QAAQU,KAZb,uBAab,GAAID,EACA,IAAK,IAAIE,KAAMF,EACXrB,EAAKC,KAAKsB,GAAIb,MAAQW,EAAUE,GAChCjB,EAAKiB,GAAMF,EAAUE,E,CAIjCC","sources":["src/js/03-feedback.js","src/js/refs.js"],"sourcesContent":["import throttle from 'lodash.throttle';\nimport storage from './storage';\nimport { refs } from './refs';\nconsole.log(refs.form);\n\nlet data = {};\nconst LOCALKEY = 'feedback-form-state'; \n\nrefs.form.addEventListener('input', onSaveData);\nrefs.form.addEventListener('submit', onSendData);\n\nfunction onSaveData({target}) {\n    const { name, value } = target;\n    data[name] = value;\n    storage.save(LOCALKEY, data);\n}\n\nfunction onLoadData() {\n    const savedData = storage.load(LOCALKEY);\n    if (savedData) {\n        for (let el in savedData) {\n            refs.form[el].value = savedData[el];\n            data[el] = savedData[el];\n        }\n    }\n}\nonLoadData();\n\nfunction onSendData(e) {\n    e.preventDefault();\n    if (!data.email || !data.message) {\n        alert(\"Заповніть усі поля, будь ласка!\");\n        return;\n    }\n\n    refs.form.reset();\n    console.log(data);\n    data = {};\n    storage.remove(LOCALKEY);\n}","export const refs = {\n    form: document.querySelector('.feedback-form'),\n}"],"names":["parcelRequire","$ee27a4d7c64fc8c4$export$21666b427502ea6d","form","document","querySelector","console","log","$945622fd0f572e60$var$data","addEventListener","target","name","value","$5uEKZ","default","save","e","preventDefault","email","message","alert","reset","remove","savedData","load","el","$945622fd0f572e60$var$onLoadData"],"version":3,"file":"03-feedback.7902b61b.js.map"}