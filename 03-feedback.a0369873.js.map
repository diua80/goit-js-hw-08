{"mappings":"gfAAAA,EAAA,S,iBCAaC,EAAO,CAChBC,KAAMC,SAASC,cAAc,mBDEjCC,QAAQC,IAAIL,EAAKC,MAEjB,IAAIK,EAAO,GACLC,EAAW,sBAEjBP,EAAKC,KAAKO,iBAAiB,SAG3B,SAAoBC,G,IAAAC,EAAAD,EAACC,OACTC,EAAgBD,EAAhBC,KAAMC,EAAUF,EAAVE,MACdN,EAAKK,GAAQC,EACbC,EAAAC,QAAQC,KAAKR,EAAUD,E,IAL3BN,EAAKC,KAAKO,iBAAiB,UAmB3B,SAAoBQ,GAEhB,GADAA,EAAEC,kBACGX,EAAKY,QAAUZ,EAAKa,QAErB,YADAC,MAAM,mCAIVpB,EAAKC,KAAKoB,QACVjB,QAAQC,IAAIC,GACZA,EAAO,GACPO,EAAAC,QAAQQ,OAAOf,E,IArBnB,WACI,IAAMgB,EAAYV,EAAAC,QAAQU,KAAKjB,GAC/B,GAAIgB,EACA,IAAK,IAAIE,KAAMF,EACXvB,EAAKC,KAAKwB,GAAIb,MAAQW,EAAUE,GAChCnB,EAAKmB,GAAMF,EAAUE,E,CAIjCC,E","sources":["src/js/03-feedback.js","src/js/refs.js"],"sourcesContent":["import throttle from 'lodash.throttle';\nimport storage from './storage';\nimport { refs } from './refs';\nconsole.log(refs.form);\n\nlet data = {};\nconst LOCALKEY = 'feedback-form-state'; \n\nrefs.form.addEventListener('input', onSaveData);\nrefs.form.addEventListener('submit', onSendData);\n\nfunction onSaveData({target}) {\n    const { name, value } = target;\n    data[name] = value;\n    storage.save(LOCALKEY, data);\n}\n\nfunction onLoadData() {\n    const savedData = storage.load(LOCALKEY);\n    if (savedData) {\n        for (let el in savedData) {\n            refs.form[el].value = savedData[el];\n            data[el] = savedData[el];\n        }\n    }\n}\nonLoadData();\n\nfunction onSendData(e) {\n    e.preventDefault();\n    if (!data.email || !data.message) {\n        alert(\"Заповніть усі поля, будь ласка!\");\n        return;\n    }\n\n    refs.form.reset();\n    console.log(data);\n    data = {};\n    storage.remove(LOCALKEY);\n}","export const refs = {\n    form: document.querySelector('.feedback-form'),\n}"],"names":["parcelRequire","$37e33676934ad046$export$21666b427502ea6d","form","document","querySelector","console","log","$b00c40859be242c5$var$data","$b00c40859be242c5$var$LOCALKEY","addEventListener","param","target","name","value","$jzQFI","default","save","e","preventDefault","email","message","alert","reset","remove","savedData","load","el","$b00c40859be242c5$var$onLoadData"],"version":3,"file":"03-feedback.a0369873.js.map"}